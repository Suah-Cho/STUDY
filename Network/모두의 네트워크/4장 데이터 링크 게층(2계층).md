# 4장 데이터 링크 계층(2계층)

데이터 링크 계층이란?

: 네트워크 장비 간에 신호를 주고받는 규칙

- 랜에서 데이터를 정상적으로 주고받기 위해 필요한 계층
- 이더넷 : 데이터 링크 계층에서 가장 일반적으로 사용되는 규칙
    - 여러 컴퓨터가 동시에 데이터를 전송해도 충돌이 일어나지 않는 구조로 구성되어있다.
    - 데이터 보내는 시점을 늦춘다.(CSMA/CD, Carrier Sense Multiple Access with Collision Detection)
        
        
        | CS | 데이터를 보내려고 하는 컴퓨터가 케이블에 신호가 흐르고 있는지 아닌지를 확인한다. |
        | --- | --- |
        | MA | 케이블에 데이터가 흐르고 있지 않다면 데이터를 보내도 좋다. |
        | CD | 충돌이 발생하고 있는지를 확인한다. |
    - 효율이 좋지 않아서 현재는 사용하지 않는다. → 스위치(switch) 사용

**MAC주소란?**

- 제조할 때 새겨져서 물리 주소라고 한다.
- 전 세계에서 유일한 번호

| 랜 카드를 만든 제조사 번호 | 제조사가 붙인 일련번호 |
| --- | --- |

**MAC주소를 사용한 통신**

- `OSI모델 → 데이터 링크, TCP/IP모델 → 네트워크 계층`에서 이더넷 헤더와 트레일러(=FCS)를 붙인다.
- 이더넷 헤더

| 목적지 MAC주소(6바이트) | 출발지 MAC주소(6바이트) | 유형(2바이트) : 이더넷으로 전송되는 상위 계층 프로토콜의 종류 |
| --- | --- | --- |
- FCS : 데이터 전송 도중 오류가 발생하는지 확인하는 용도
- 프레임 : 이더넷 헤더와 트레일러가 추가된 데이터

| 목적지 MAC주소 | 출발지 MAC주소 | 유형 | 데이터 | 트레일러 |
| --- | --- | --- | --- | --- |
| 이더넷 헤더 | 이더넷 헤더 | 이더넷 헤더 | - | - |

**스위치란?**

:(레이어 2 스위치, 스위칭 허브)

- 데이터 링크 계층에서 동작
- MAC주소 테이블(MAC address table) 존재
    - 스위치의 포트 번호와 해당 포트에 연결되어 있는 컴퓨터의 MAC주소가 등록되어 있는 데이터베이스
    - MAC주소 학습 기능
        
        : 스위치의 전원을 켠 상태에는 MAC주소 테이블에 아무것도 등록되어 있지 않다. 컴퓨터에서 목적지 MAC주소가 추가된 프레임을 전송하면 MAC주소 테이블을 확인하고 출발지 MAC 주소가 등록되어 있지 않으면 MAC주소를 포트와 함께 등록한다.
        
    
    | 목적지 MAC주소가 MAC주소 테이블에 등록되어 있지 않은 경우 | 목적지 MAC주소 테이블에 목적지 MAC주소가 등록되어 있는 경우 |
    | --- | --- |
    | 송신 포트 이외의 포트에 데이터(프레임)가 전송된다.(=플러딩, flooding) | 다른 포트에 데이터(프레임)가 전송되지 않고, 수신 포트에만 데이터(프레임)가 전송된다. |
- MAC주소 필터링 : MAC주소를 기준으로 목적지를 선택하는 것
    
    → 불필요한 데이터를 네트워크에 전송하지 않는다.
    

**전이중 통신과 반이중 통신**

| 전이중 통신 | 데이터의 송수신을 동시에 통신하는 방식 |
| --- | --- |
| 반이중 통신  | 회선 하나로 송신과 수신을 번갈아가면서 통신하는 방식 |

| 랜 케이블 연결 | 전이중 통신 방식 |
| --- | --- |
| 허브(더미 허브) | 반이중 통신 방식 |
| 스위치 | 전이중 통신 방식 |

→ 대부분의 네트워크 회사에서 스위치를 사용

**충돌 도메인**

: 충돌이 발생할 때 그 영향이 미치는 범위

- 허브는 연결되어 있는 컴퓨터 전체가 하나의 충돌 도메인이다.
- 스위치는 데이터를 동시에 송수신할 수 있는 전이중 통신 방식이기 대문에 충돌이 일어나지 않고 충돌 도메인의 범위도 좁다.(컴퓨터 하나가 충돌 도메인이 된다.)

**이더넷 규격**

| 10 | BASE | X / - | T |
| --- | --- | --- | --- |
| 통신 속도 | 전송 방식 | (X→동축케이블, - → UTP케이블) | 케이블 |
